<h1 id="title">IT男装逼利器：如何像黑客一样聊天 Mojo-Webqq</h1>
<time id="date" datetime="2017-11-29T16:01:52+08:00">2017-11-29 16:01</time>
<section id="content">
    <p>
        <a
            href="https://laod.cn/wp-content/uploads/2017/11/How_to_chat_like_a_hacker.jpg"
            ><noscript
                ><img
                    class="alignnone size-full wp-image-4361"
                    src="https://laod.cn/wp-content/uploads/2017/11/How_to_chat_like_a_hacker.jpg"
                    alt="How_to_chat_like_a_hacker"
                    width="784"
                    height="615" /></noscript
            ><img
                class="alignnone size-full wp-image-4361 j-lazy"
                src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20784%20615'%3E%3C/svg%3E"
                data-original="https://laod.cn/wp-content/uploads/2017/11/How_to_chat_like_a_hacker.jpg"
                alt="How_to_chat_like_a_hacker"
                width="784"
                height="615"
                data-lazy-src="https://laod.cn/wp-content/themes/justnews/themer/assets/images/lazy.png" /><noscript
                ><img
                    class="alignnone size-full wp-image-4361 j-lazy"
                    src="https://laod.cn/wp-content/themes/justnews/themer/assets/images/lazy.png"
                    data-original="https://laod.cn/wp-content/uploads/2017/11/How_to_chat_like_a_hacker.jpg"
                    alt="How_to_chat_like_a_hacker"
                    width="784"
                    height="615" /></noscript
        ></a>
    </p>
    <p>
        电影里的黑客们聊天不想我们生活中的一样，用QQ、微信的客户端，都是通过命令行来进行聊天交流的，大概是为了提升逼格吧。
    </p>
    <p>今天发现一个有趣的项目：使用mojoqq来实现命令行QQ</p>
    <p>目标版本是：Mojo-Webqq v2.1.4</p>
    <p>
        项目地址：<a
            href="https://github.com/sjdy521/Mojo-Webqq"
            target="_blank"
            rel="noopener"
            >https://github.com/sjdy521/Mojo-Webqq</a
        >
    </p>
    <h4>安装方法</h4>
    <p>
        推荐使用<a
            href="https://metacpan.org/pod/distribution/App-cpanminus/bin/cpanm"
            >cpanm</a
        >在线安装或升级<a
            href="https://metacpan.org/pod/distribution/Mojo-Webqq/doc/Webqq.pod"
            >Mojo::Webqq</a
        >模块, 如果使用docker方式请参见<a
            href="https://github.com/sjdy521/Mojo-Webqq/blob/master/Docker.md"
            >Docker镜像安装及使用方法</a
        >
    </p>
    <h4><em>安装perl</em></h4>
    <p>
        安装之前请先确认下你的系统是否已经安装了Perl，因为除了windows，其他大部分的平台默认都可能已经预装过
    </p>
    <p>并且你的Perl版本至少5.10.1+，推荐5.14+</p>
    <p>
        <a href="https://www.perl.org/get.html">Perl官网下载页面</a
        >&nbsp;有包含Unix/Linux、Mac OS X、Windows多平台比较全面详细的安装说明
    </p>
    <p>
        建议大家尽量选择<strong>Binaries</strong>（二进制预编译）的版本，安装即可使用，比较方便
    </p>
    <table>
        <thead>
            <tr>
                <th align="left">平台</th>
                <th align="left">推荐选择</th>
                <th align="left">下载地址</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td align="left">Windows</td>
                <td align="left">
                    1.&nbsp;<strong>StrawberryPerl</strong><br />
                    2. ActivePerl<br />
                    3.&nbsp;<strong>Mojo-StrawberryPerl</strong>
                </td>
                <td align="left">
                    <a href="http://strawberryperl.com/"
                        >StrawberryPerl下载地址</a
                    ><br />
                    <a href="https://github.com/sjdy521/Mojo-StrawberryPerl"
                        >Mojo-StrawberryPerl下载地址</a
                    ><br />
                    <a href="http://www.activestate.com/activeperl/downloads"
                        >ActivePerl下载地址</a
                    >
                </td>
            </tr>
            <tr>
                <td align="left">Linux</td>
                <td align="left">
                    1.&nbsp;<strong>系统自带</strong><br />
                    2.&nbsp;<strong>yum/apt等包管理器</strong><br />
                    3. 官方源码编译<br />
                    4.&nbsp;<strong>Mojo-CentosPerl</strong><br />
                    5. ActivePerl<br />
                    6. Mojo-ActivePerl<br />
                    7. DWIM-Perl
                </td>
                <td align="left">
                    <a href="https://github.com/sjdy521/Mojo-CentosPerl"
                        >Mojo-CentosPerl下载地址</a
                    ><br />
                    <a href="http://www.activestate.com/activeperl/downloads"
                        >ActivePerl下载地址</a
                    ><br />
                    <a href="https://github.com/sjdy521/Mojo-ActivePerl"
                        >Mojo-ActivePerl下载地址</a
                    ><br />
                    <a href="http://dwimperl.com/linux.html"
                        >DWIM-Perl下载地址</a
                    >
                </td>
            </tr>
            <tr>
                <td align="left">Mac</td>
                <td align="left">
                    1.&nbsp;<strong>系统自带</strong><br />
                    2. ActivePerl
                </td>
                <td align="left">
                    <a href="http://www.activestate.com/activeperl/downloads"
                        >ActivePerl下载地址</a
                    >
                </td>
            </tr>
        </tbody>
    </table>
    <h4>注意：</h4>
    <p>
        <a href="https://github.com/sjdy521/Mojo-CentosPerl">Mojo-CentosPerl</a
        >是基于Centos系统编译打包而成，适合Centos6.5以上的x86_64系统
    </p>
    <p>
        <a href="https://github.com/sjdy521/Mojo-ActivePerl">Mojo-ActivePerl</a
        >是基于ActivePerl打包的而成，适用于linux x86_64系统，并且系统glibc 2.15+
    </p>
    <p>
        <a href="https://github.com/sjdy521/Mojo-StrawberryPerl"
            >Mojo-StrawberryPerl</a
        >是基于StrawberryPerl精简打包而成，适用于windows 32位/64位系统
    </p>
    <p><em>安装cpanm包管理工具</em>（如果系统已经安装了cpanm可以忽略此步骤）</p>
    <p><strong>方法a： 通过cpan安装cpanm</strong></p>
    <p><code> $ cpan -i App::cpanminus</code></p>
    <p><strong>方法b： 直接在线安装cpanm</strong></p>
    <p>
        <code> $ curl -kL https://cpanmin.us | perl - App::cpanminus</code
        ><br />官方服务器在国外，如果无法访问，可以选择下面的命令：<br /><code
            >$ curl http://share-10066126.cos.myqcloud.com/cpanm.pl|perl -
            App::cpanminus</code
        >
    </p>
    <p>
        <strong
            ><em>使用cpanm在线安装 Mojo::Webqq 模块</em
            >（如果系统已经安装了该模块，执行此步骤会对模块进行升级）</strong
        >
    </p>
    <p><code> $ cpanm Mojo::Webqq</code></p>
    <p>
        如果安装过程中一直提示下载失败，很可能是因为访问到国外服务器网络比较差
    </p>
    <p>这种情况下可以尝试按如下方式手动指定国内的镜像站点</p>
    <p>
        <code> $ cpanm --mirror http://mirrors.163.com/cpan/ Mojo::Webqq</code>
    </p>
    <p>
        <strong
            ><em>安装失败可能有帮助的解决方法</em
            >如果你运气不佳，通过cpanm没有一次性安装成功，这里提供了一些可能有用的信息在安装
            Mojo::Webqq
            的过程中，cpan或者cpanm会帮助我们自动安装很多其他的依赖模块</strong
        >
    </p>
    <p>在众多的依赖模块中，安装经常容易出现问题的主要是 IO::Socket::SSL</p>
    <p>
        IO::Socket::SSL 主要提供了 https
        支持，在安装过程中可能会涉及到SSL相关库的编译
    </p>
    <p>
        对于 Linux
        用户，通常采用的是编译安装的方式，系统缺少编译安装必要的环境，则会导致编译失败
    </p>
    <p>
        对于 Windows
        用户，由于不具备良好的编译安装环境，推荐采用一些已经打包比较全面的Perl运行环境
    </p>
    <p>
        例如比较流行的 strawberryperl 或者 activeperl 的最新版本都默认包含
        Mojo::Webqq 的核心依赖模块
    </p>
    <p><strong>RedHat/Centos:</strong></p>
    <p><code> $ yum install -y openssl-devel</code></p>
    <p><strong>Ubuntu:</strong></p>
    <p><code> $ sudo apt-get install libssl-dev</code></p>
    <p>搞定了编译和运行环境之后，再重新回到 步骤2 安装Mojo::Webqq即可</p>
    <p>&nbsp;</p>
    <p>
        <a href="https://laod.cn/wp-content/uploads/2017/11/IRCShell.png"
            ><noscript
                ><img
                    class="alignnone size-full wp-image-4368"
                    src="https://laod.cn/wp-content/uploads/2017/11/IRCShell.png"
                    alt="IRCShell"
                    width="929"
                    height="578" /></noscript
            ><img
                class="alignnone size-full wp-image-4368 j-lazy"
                src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20929%20578'%3E%3C/svg%3E"
                data-original="https://laod.cn/wp-content/uploads/2017/11/IRCShell.png"
                alt="IRCShell"
                width="929"
                height="578"
                data-lazy-src="https://laod.cn/wp-content/themes/justnews/themer/assets/images/lazy.png" /><noscript
                ><img
                    class="alignnone size-full wp-image-4368 j-lazy"
                    src="https://laod.cn/wp-content/themes/justnews/themer/assets/images/lazy.png"
                    data-original="https://laod.cn/wp-content/uploads/2017/11/IRCShell.png"
                    alt="IRCShell"
                    width="929"
                    height="578" /></noscript
        ></a>
    </p>
    <p>
        使用Perl语言编写的Smartqq客户端框架，基于Mojolicious，要求Perl版本5.10+，可通过插件提供基于HTTP协议的api接口供其他语言或系统调用
    </p>
    <h4>郑重声明</h4>
    <p>
        本项目完全遵循QQ官方提供的原始功能，不包含任何破坏、盗号等行为，本项目完全开源，目的是为了促进技术交流学习，禁止任何对国家、企业、个人等构成危害的非法用途，否则后果自负
    </p>
    <h4>特色功能</h4>
    <ul>
        <li>
            支持
            群组踢人、禁言、设置/取消管理员、修改群成员名片、邀请好友入群、群签到
        </li>
        <li>支持 获取好友、群组、群成员的真实QQ号码</li>
        <li>
            支持 新增/失去好友、新增/退出群组、新增/失去群成员
            等事件提醒（非实时）
        </li>
        <li>
            支持 Windows/Linux/Mac
            多平台，支持docker镜像，易安装部署，不懂Perl也能用
        </li>
        <li>提供 基于HTTP协议的API接口 ，简洁丰富，方便和其他编程语言集成</li>
        <li>
            一个产品狗的倾情之作，代码由内而外都更加注重“用户体验”，外加主人人品极好，你懂的
        </li>
    </ul>
    <h4>插件列表</h4>
    <table>
        <thead>
            <tr>
                <th align="left">名称</th>
                <th align="left">优先级</th>
                <th align="left">当前状态</th>
                <th align="left">github作者</th>
                <th align="left">功能说明</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td align="left">
                    <a
                        href="https://metacpan.org/pod/distribution/Mojo-Webqq/doc/Webqq.pod#Mojo::Webqq::Plugin::ShowMsg"
                        >ShowMsg</a
                    >
                </td>
                <td align="left">100</td>
                <td align="left">已发布</td>
                <td align="left">sjdy521</td>
                <td align="left">打印客户端接收和发送的消息</td>
            </tr>
            <tr>
                <td align="left">
                    <a
                        href="https://metacpan.org/pod/distribution/Mojo-Webqq/doc/Webqq.pod#Mojo::Webqq::Plugin::GroupManage"
                        >GroupManage</a
                    >
                </td>
                <td align="left">100</td>
                <td align="left">已发布</td>
                <td align="left">sjdy521</td>
                <td align="left">群管理，入群欢迎、限制发图频率等</td>
            </tr>
            <tr>
                <td align="left">
                    <a
                        href="https://metacpan.org/pod/distribution/Mojo-Webqq/doc/Webqq.pod#Mojo::Webqq::Plugin::IRCShell"
                        >IRCShell</a
                    >
                </td>
                <td align="left">99</td>
                <td align="left">已发布</td>
                <td align="left">sjdy521</td>
                <td align="left">Linux环境下通过irc客户端使用qq</td>
            </tr>
            <tr>
                <td align="left">
                    <a
                        href="https://metacpan.org/pod/distribution/Mojo-Webqq/doc/Webqq.pod#Mojo::Webqq::Plugin::Openqq"
                        >Openqq</a
                    >
                </td>
                <td align="left">98</td>
                <td align="left">已发布</td>
                <td align="left">sjdy521</td>
                <td align="left">提供qq发送消息api接口</td>
            </tr>
            <tr>
                <td align="left">
                    <a
                        href="https://metacpan.org/pod/distribution/Mojo-Webqq/doc/Webqq.pod#Mojo::Webqq::Plugin::Perlcode"
                        >Perlcode</a
                    >
                </td>
                <td align="left">97</td>
                <td align="left">已发布</td>
                <td align="left">sjdy521</td>
                <td align="left">通过qq消息执行perl代码</td>
            </tr>
            <tr>
                <td align="left">
                    <a
                        href="https://metacpan.org/pod/distribution/Mojo-Webqq/doc/Webqq.pod#Mojo::Webqq::Plugin::Perldoc"
                        >Perldoc</a
                    >
                </td>
                <td align="left">96</td>
                <td align="left">已发布</td>
                <td align="left">sjdy521</td>
                <td align="left">通过qq消息查询perl文档</td>
            </tr>
            <tr>
                <td align="left">
                    <a
                        href="https://metacpan.org/pod/distribution/Mojo-Webqq/doc/Webqq.pod#Mojo::Webqq::Plugin::Translation"
                        >Translation</a
                    >
                </td>
                <td align="left">93</td>
                <td align="left">已发布</td>
                <td align="left">sjdy521</td>
                <td align="left">多国语言翻译功能</td>
            </tr>
            <tr>
                <td align="left">
                    <a
                        href="https://metacpan.org/pod/distribution/Mojo-Webqq/doc/Webqq.pod#Mojo::Webqq::Plugin::KnowledgeBase"
                        >KnowledgeBase</a
                    >
                </td>
                <td align="left">3</td>
                <td align="left">已发布</td>
                <td align="left">sjdy521</td>
                <td align="left">自定义可编辑问答知识库</td>
            </tr>
            <tr>
                <td align="left">
                    <a
                        href="https://metacpan.org/pod/distribution/Mojo-Webqq/doc/Webqq.pod#Mojo::Webqq::Plugin::Qiandao"
                        >Qiandao</a
                    >
                </td>
                <td align="left">1</td>
                <td align="left">已发布</td>
                <td align="left">sjdy521</td>
                <td align="left">QQ群每日签到</td>
            </tr>
            <tr>
                <td align="left">
                    <a
                        href="https://metacpan.org/pod/distribution/Mojo-Webqq/doc/Webqq.pod#Mojo::Webqq::Plugin::PostQRcode"
                        >PostQRcode</a
                    >
                </td>
                <td align="left">0</td>
                <td align="left">已发布</td>
                <td align="left">sjdy521</td>
                <td align="left">登录二维码发送到邮箱实现远程扫码</td>
            </tr>
            <tr>
                <td align="left">
                    <a
                        href="https://metacpan.org/pod/distribution/Mojo-Webqq/doc/Webqq.pod#Mojo::Webqq::Plugin::UploadQRcode"
                        >UploadQRcode</a
                    >
                </td>
                <td align="left">0</td>
                <td align="left">已发布</td>
                <td align="left">sjdy521</td>
                <td align="left">二维码上传图床获得公网访问url</td>
            </tr>
            <tr>
                <td align="left">
                    <a
                        href="https://metacpan.org/pod/distribution/Mojo-Webqq/doc/Webqq.pod#Mojo::Webqq::Plugin::ShowQRcode"
                        >ShowQRcode</a
                    >
                </td>
                <td align="left">0</td>
                <td align="left">已发布</td>
                <td align="left">autodataming</td>
                <td align="left">
                    调用系统图片查看程序来示二维码（目前仅支持win）
                </td>
            </tr>
            <tr>
                <td align="left">
                    <a
                        href="https://metacpan.org/pod/distribution/Mojo-Webqq/doc/Webqq.pod#Mojo::Webqq::Plugin::SmartReply"
                        >SmartReply</a
                    >
                </td>
                <td align="left">0</td>
                <td align="left">已发布</td>
                <td align="left">sjdy521</td>
                <td align="left">智能聊天回复</td>
            </tr>
        </tbody>
    </table>
    <p>
        更多插件参考<a
            href="https://github.com/sjdy521/Mojo-Webqq/blob/master/Plugin.md"
            >完整插件列表</a
        >
    </p>
    <h4>效果展示</h4>
    <p>敲一行命令就能启动一个智能聊天机器人，Perl 和你都如此优雅. Enjoy!</p>
    <div class="dp-highlighter">
        <div class="bar"></div>
        <ol class="dp-j" start="1">
            <li class="alt">
                cpanm&nbsp;Mojo::Webqq&nbsp;&amp;&amp;&nbsp;perl&nbsp;-MMojo::Webqq&nbsp;-e&nbsp;<span
                    class="string"
                    >“Mojo::Webqq-&gt;new-&gt;load(‘ShowMsg’)-&gt;load(‘SmartReply’)-&gt;run()”</span
                >
            </li>
        </ol>
    </div>
    <div class="dp-highlighter">
        <div class="bar"></div>
        <ol class="dp-j" start="1">
            <li class="alt">
                [<span class="number">15</span>/<span class="number">09</span
                >/<span class="number">30</span>&nbsp;<span class="number"
                    >15</span
                >:<span class="number">11</span>:<span class="number">59</span
                >]&nbsp;[info]&nbsp;初始化&nbsp;smartqq&nbsp;客户端参数…
            </li>
            <li class="">
                [<span class="number">15</span>/<span class="number">09</span
                >/<span class="number">30</span>&nbsp;<span class="number"
                    >15</span
                >:<span class="number">11</span>:<span class="number">59</span
                >]&nbsp;[info]&nbsp;检查验证码…
            </li>
            <li class="alt">
                [<span class="number">15</span>/<span class="number">09</span
                >/<span class="number">30</span>&nbsp;<span class="number"
                    >15</span
                >:<span class="number">11</span>:<span class="number">59</span
                >]&nbsp;[info]&nbsp;检查结果:&nbsp;很幸运，本次登录不需要验证码
            </li>
            <li class="">
                [<span class="number">15</span>/<span class="number">09</span
                >/<span class="number">30</span>&nbsp;<span class="number"
                    >15</span
                >:<span class="number">11</span>:<span class="number">59</span
                >]&nbsp;[info]&nbsp;正在获取登录二维码…
            </li>
            <li class="alt">
                [<span class="number">15</span>/<span class="number">09</span
                >/<span class="number">30</span>&nbsp;<span class="number"
                    >15</span
                >:<span class="number">11</span>:<span class="number">59</span
                >]&nbsp;[info]&nbsp;二维码已下载到本地[&nbsp;/tmp/mojo_webqq_qrcode_xxx.png&nbsp;]
            </li>
            <li class="">
                [<span class="number">15</span>/<span class="number">09</span
                >/<span class="number">30</span>&nbsp;<span class="number"
                    >15</span
                >:<span class="number">12</span>:<span class="number">00</span
                >]&nbsp;[info]&nbsp;登录二维码已经发送到邮箱:&nbsp;******
            </li>
            <li class="alt">
                [<span class="number">15</span>/<span class="number">09</span
                >/<span class="number">30</span>&nbsp;<span class="number"
                    >15</span
                >:<span class="number">12</span>:<span class="number">00</span
                >]&nbsp;[info]&nbsp;等待手机QQ扫描二维码…
            </li>
            <li class="">
                [<span class="number">15</span>/<span class="number">09</span
                >/<span class="number">30</span>&nbsp;<span class="number"
                    >15</span
                >:<span class="number">12</span>:<span class="number">43</span
                >]&nbsp;[info]&nbsp;手机QQ扫码成功，请在手机上点击[允许登录smartQQ]按钮…
            </li>
            <li class="alt">
                [<span class="number">15</span>/<span class="number">09</span
                >/<span class="number">30</span>&nbsp;<span class="number"
                    >15</span
                >:<span class="number">12</span>:<span class="number">46</span
                >]&nbsp;[info]&nbsp;检查安全代码…
            </li>
            <li class="">
                [<span class="number">15</span>/<span class="number">09</span
                >/<span class="number">30</span>&nbsp;<span class="number"
                    >15</span
                >:<span class="number">12</span>:<span class="number">47</span
                >]&nbsp;[info]&nbsp;设置登录验证参数…
            </li>
            <li class="alt">
                [<span class="number">15</span>/<span class="number">09</span
                >/<span class="number">30</span>&nbsp;<span class="number"
                    >15</span
                >:<span class="number">12</span>:<span class="number">47</span
                >]&nbsp;[info]&nbsp;尝试进行登录(<span class="number">2</span>)…
            </li>
            <li class="">
                [<span class="number">15</span>/<span class="number">09</span
                >/<span class="number">30</span>&nbsp;<span class="number"
                    >15</span
                >:<span class="number">12</span>:<span class="number">47</span
                >]&nbsp;[info]&nbsp;登录成功
            </li>
            <li class="alt">
                [<span class="number">15</span>/<span class="number">09</span
                >/<span class="number">30</span>&nbsp;<span class="number"
                    >15</span
                >:<span class="number">12</span>:<span class="number">47</span
                >]&nbsp;[info]&nbsp;更新个人信息…
            </li>
            <li class="">
                [<span class="number">15</span>/<span class="number">09</span
                >/<span class="number">30</span>&nbsp;<span class="number"
                    >15</span
                >:<span class="number">12</span>:<span class="number">47</span
                >]&nbsp;[info]&nbsp;更新好友信息…
            </li>
            <li class="alt">
                [<span class="number">15</span>/<span class="number">09</span
                >/<span class="number">30</span>&nbsp;<span class="number"
                    >15</span
                >:<span class="number">12</span>:<span class="number">47</span
                >]&nbsp;[info]&nbsp;更新[&nbsp;PERL学习交流&nbsp;]信息
            </li>
            <li class="">
                [<span class="number">15</span>/<span class="number">09</span
                >/<span class="number">30</span>&nbsp;<span class="number"
                    >15</span
                >:<span class="number">12</span>:<span class="number">52</span
                >]&nbsp;[info]&nbsp;更新[&nbsp;Mojolicious&nbsp;]信息
            </li>
            <li class="alt">
                [<span class="number">15</span>/<span class="number">09</span
                >/<span class="number">30</span>&nbsp;<span class="number"
                    >15</span
                >:<span class="number">12</span>:<span class="number">55</span
                >]&nbsp;[info]&nbsp;开始接收消息…
            </li>
            <li class="">
                [<span class="number">15</span>/<span class="number">09</span
                >/<span class="number">30</span>&nbsp;<span class="number"
                    >14</span
                >:<span class="number">09</span>:<span class="number">20</span
                >]&nbsp;[群消息]&nbsp;小灰|PERL学习交流&nbsp;:&nbsp;Mojo::Webqq不错哦
            </li>
            <li class="alt">
                [<span class="number">15</span>/<span class="number">09</span
                >/<span class="number">30</span>&nbsp;<span class="number"
                    >14</span
                >:<span class="number">10</span>:<span class="number">20</span
                >]&nbsp;[群消息]&nbsp;我-&gt;PERL学习交流&nbsp;:&nbsp;多谢多谢
            </li>
        </ol>
    </div>
    <div class="entry-copyright">
        <p>
            原创文章，作者：老D，如若转载，请注明出处：https://laod.cn/tools/mojo-webqq.html
        </p>
    </div>
</section>
