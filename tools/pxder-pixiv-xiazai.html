<h1 id="title">Pxder：P站(Pixiv)插画批量下载器</h1>
<time id="date" datetime="2018-09-04T12:38:21+08:00">2018-09-04 12:38</time>
<section id="content">
    <p>
        <a href="https://laod.cn/wp-content/uploads/2018/09/p6.jpg"
            ><img
                class="alignnone size-full wp-image-5055"
                src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20800%20300'%3E%3C/svg%3E"
                alt="P站"
                width="800"
                height="300"
                data-lazy-src="https://laod.cn/wp-content/uploads/2018/09/p6.jpg" /><noscript
                ><img
                    class="alignnone size-full wp-image-5055"
                    src="https://laod.cn/wp-content/uploads/2018/09/p6.jpg"
                    alt="P站"
                    width="800"
                    height="300" /></noscript
        ></a>
    </p>
    <h4>Pxder简介</h4>
    <p>
        Pxder可按根据指定画师 UID
        解析并下载插画（包括动图）、一键下载所有你关注的画师的插画或收藏的插画、智能增量更新下载过的画师的插画。
    </p>
    <p>多线程下载，并且支持使用 HTTP 与 SOCKS 代理。</p>
    <p>
        <img
            class="alignnone size-full"
            src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20638%20363'%3E%3C/svg%3E"
            alt="Pixiv"
            width="638"
            height="363"
            data-lazy-src="https://ws1.sinaimg.cn/large/005C3U7fgy1fuxe2xo31gg30hq0a3n1k.gif"
        /><noscript
            ><img
                class="alignnone size-full"
                src="https://ws1.sinaimg.cn/large/005C3U7fgy1fuxe2xo31gg30hq0a3n1k.gif"
                alt="Pixiv"
                width="638"
                height="363"
        /></noscript>
    </p>
    <p>
        <strong>Github地址：</strong
        ><a
            href="https://github.com/YKilin/pxder"
            target="_blank"
            rel="noopener"
            >https://github.com/YKilin/pxder</a
        >
    </p>
    <h3>安装</h3>
    <h4><span style="color: #800000"> Windows 用户</span>：</h4>
    <p>
        首先你需要先安装 Node.js<br />打开<a
            href="https://nodejs.org/"
            target="_blank"
            rel="noopener"
            >官网</a
        >
        =&gt; 下载右边的“最新发布版” =&gt; 安装一路确定
    </p>
    <p><strong>安装/更新/卸载</strong></p>
    <p>
        打开“命令提示符”或者“Powershell”，执行下面的命令，即可安装或者更新（注：后续命令皆为在此执行）
    </p>
    <p><code>npm i -g pxder</code></p>
    <p>如需卸载，执行</p>
    <p><code>npm uninstall -g pxder</code></p>
    <p><strong>配置</strong></p>
    <p>首次使用前必须先登录并配置下载路径</p>
    <div data-unique="登录"></div>
    <p>
        <strong>登录</strong><br /><code>pxder --login</code
        ><br />然后会让你输入用户名密码，登录成功一次后以后如果没有出什么bug则无需再次登录
    </p>
    <p>如果要登出<br /><code>pxder --logout</code></p>
    <p>
        有五项设置，按下数字键选择一项进行设置，然后按照要求输入之后回车即可<br /><code
            >Download path # 下载目录，必须设置<br />Download thread #
            下载线程数<br />Download timeout # 下载超时时间<br />Auto rename #
            自动重命名（文件夹）<br />Proxy # 使用代理</code
        >
    </p>
    <ul>
        <li>
            <strong>下载目录</strong><br />
            请注意相对路径与绝对路径的区别，不过不用担心，输入完路径后会显示绝对路径以方便你检查<br />
            目录无需手动建立，下载图片的时候会自动建立
        </li>
        <li>
            <strong>下载线程数</strong><br />
            即同时下载的图片数，默认为[code]5[/code]，最小为[code]1[/code]，最大为[code]10[/code]，因为其实不推荐使用过多的线程<br />
            下载图片时最左侧的一列实际上就是线程编号
        </li>
        <li>
            <strong>下载超时</strong><br />
            如果这么多秒之后一张图还没被下载完则算作超时，超时后会自动重试，默认值为[code]30[/code]<br />
            下载图片时如果线程编号是黄色底的就代表此次是重试
        </li>
        <li>
            <strong>自动重命名</strong><br />
            开启了以后，例如这个画师原来叫[code]abc[/code]，今天你再次去下载（更新）他的画作，但是他改名叫[code]def[/code]了，那么程序会自动帮你重命名画师文件夹
        </li>
        <li>
            <strong>使用代理</strong><br />
            支持使用 HTTP 或 SOCKS 代理，即可以使用小飞机<br />
            输入格式为[code]&lt;协议&gt;://[用户名:密码@]&lt;IP&gt;:&lt;端口&gt;[/code]，例如：
            <p></p>
            <ul>
                <li>[code]http://127.0.0.1:1080[/code]</li>
                <li>
                    [code]socks://abc:<a
                        class="__yjs_email__"
                        href="/cdn-cgi/l/email-protection"
                        data-yjsemail="583c3d3e18696a6f766876687669"
                        >[email&nbsp;protected]</a
                    >
                    <script data-yjshash="f9e31" type="text/javascript">
                        /* <![CDATA[ */ !(function (t, e, r, n, c, a, p) {
                            try {
                                t =
                                    document.currentScript ||
                                    (function () {
                                        for (
                                            t =
                                                document.getElementsByTagName(
                                                    "script"
                                                ),
                                                e = t.length;
                                            e--;

                                        )
                                            if (
                                                t[e].getAttribute(
                                                    "data-yjshash"
                                                )
                                            )
                                                return t[e];
                                    })();
                                if (t && (c = t.previousSibling)) {
                                    p = t.parentNode;
                                    if ((a = c.getAttribute("data-yjsemail"))) {
                                        for (
                                            e = "",
                                                r = ("0x" + a.substr(0, 2)) | 0,
                                                n = 2;
                                            a.length - n;
                                            n += 2
                                        )
                                            e +=
                                                "%" +
                                                (
                                                    "0" +
                                                    (
                                                        ("0x" +
                                                            a.substr(n, 2)) ^
                                                        r
                                                    ).toString(16)
                                                ).slice(-2);
                                        p.replaceChild(
                                            document.createTextNode(
                                                decodeURIComponent(e)
                                            ),
                                            c
                                        );
                                    }
                                    p.removeChild(t);
                                }
                            } catch (u) {}
                        })(); /* ]]> */
                    </script>
                    :1080[/code]
                </li>
            </ul>
            <p>如果什么也不输入就回车则关闭代理</p>
        </li>
    </ul>
    <p>
        注：在 Windows 下 Pxder
        的配置文件通常存放于[code]C:\Users\你的用户\AppData\Roaming\npm[/code]，而
        Linux 下位于[code]npm安装路径/lib[/code]
    </p>
    <h4>运行机制</h4>
    <ul>
        <li>
            会将同一画师的作品下载在[code](UID)画师名[/code]格式的文件夹内，图片命名格式为[code](PID)作品名[/code]<br />
            并且，画师名会自动删除名字中[code]@[/code]符号及以后的文字（因为这些基本上都是画师的摊位信息之类的与名字无关的信息）
        </li>
        <li>
            文件（夹）名均会过滤掉所有 Windows 和 Linux
            中不能或不推荐做文件名的符号
        </li>
        <li>动图下下来会是所有帧的压缩包</li>
        <li>
            下载时会忽略掉已经下载的插画，但是如果你下载到一半退出，会在[code]temp[/code]文件夹内残留未下载完整的坏图片，你可以自行删除，或者当你再次开始同一画师的下载时也会自动被删除
        </li>
        <li>下载超时或网络错误会自动重试</li>
    </ul>
    <div data-unique="正式使用"></div>
    <h4>正式使用</h4>
    <p>小知识：在命令行中按下[code]Ctrl + C[/code]可终止执行</p>
    <div data-unique="(1)下载某画师的所有插画作品"></div>
    <p><strong>(1) 下载某画师的所有插画作品</strong></p>
    <p>
        使用[code]-u[/code]或[code]–uid[/code]参数，后跟画师的
        UID，可单个可多个，如果多个则用英文半角逗号隔开
    </p>
    <p>[code]pxder -u uid1,uid2,uid3,…[/code]</p>
    <p>例如<br />[code]pxder -u 5899479,724607,11597411[/code]</p>
    <div data-unique="(2)下载你关注的所有画师的所有插画作品"></div>
    <p><strong>(2) 下载你关注的所有画师的所有插画作品</strong></p>
    <p>
        该操作同时也会更新已下载的关注画师的作品，并且效率远高于
        (3)，比较推荐使用
    </p>
    <p>
        <strong>公开关注的画师</strong><br />[code]pxder -f<br /># 或<br />pxder
        –follow[/code]<br /><strong>私密关注的画师</strong><br />[code]pxder
        -F<br /># 或<br />pxder –follow–private[/code]
    </p>
    <div data-unique="(3)更新已下载的画师的画作"></div>
    <p><strong>(3) 更新已下载的画师的画作</strong></p>
    <p>会对下载目录中检测到的所有下载过的画师的插画进行增量更新下载</p>
    <p>
        与 (2) 的区别是可以更新下载你使用 (1)
        下载了的但是未关注的，但是效率远低于 (2)<br />[code]pxder -U<br />#
        或<br />pxder –update[/code]
    </p>
    <div data-unique="(4)下载你的收藏中的插画作品"></div>
    <p><strong>(4) 下载你的收藏中的插画作品</strong></p>
    <p><strong>公开收藏</strong></p>
    <p>
        插画会被下载至[code][bookmark] Public[/code]文件夹中<br />[code]pxder
        -b<br /># 或<br />pxder –bookmark[/code]<br /><strong>私密收藏</strong>
    </p>
    <p>
        插画会被下载至[code][bookmark] Private[/code]文件夹中<br />[code]pxder
        -B<br /># 或<br />pxder –bookmark–private[/code]
    </p>
    <h4>VPS使用教程：</h4>
    <p>
        <strong>1、安装Node.js</strong><br /><code
            >#Ubuntu系统<br />curl -sL https://deb.nodesource.com/setup_10.x |
            sudo -E bash -<br />sudo apt-get install -y nodejs<br />#Debian系统<br />curl
            -sL https://deb.nodesource.com/setup_10.x | bash -<br />apt-get
            install -y nodejs<br />#Centos系统<br />curl -sL
            https://rpm.nodesource.com/setup_10.x | bash -<br />yum install
            nodejs -y</code
        ><br /><strong>2、安装或者卸载Pxder</strong>
    </p>
    <p>
        <code
            >#安装<br />npm i -g pxder<br />#卸载<br />npm uninstall -g
            pxder</code
        >
    </p>
    <p><strong>3、登录P站、设置这些跟上面的windows一致。</strong></p>
    <div class="entry-copyright">
        <p>
            原创文章，作者：老D，如若转载，请注明出处：https://laod.cn/tools/pxder-pixiv-xiazai.html
        </p>
    </div>
</section>
