<h1 id="title">Linux之文件权限</h1>
<time id="date" datetime="2016-08-11T14:18:06+08:00">2016-08-11 14:18</time>
<section id="content">
    <p><strong>三种权限：</strong></p>
    <ul>
        <li>读 – 允许分组读文件（用 r 表示）</li>
        <li>写 – 允许分组写文件（用 w 表示）</li>
        <li>执行 – 允许分组执行（运行）文件（用 x 表示）</li>
    </ul>
    <p>&nbsp;</p>
    <p><strong>四个分组：</strong></p>
    <ul>
        <li>user – 文件实际的拥有者</li>
        <li>group – 用户所在的用户组</li>
        <li>others – 用户租外的其他用户</li>
        <li>all – 所有用户</li>
    </ul>
    <p>&nbsp;</p>
    <p>
        打开终端并允许 ls -l &nbsp;（或 ll ）<br /><strong>结果如下：</strong>
    </p>
    <p>
        [cc lang=”php”]<br />[<a
            class="__yjs_email__"
            href="/cdn-cgi/l/email-protection"
            data-yjsemail="95e7fafae1d5f9faf6f4f9fdfae6e1"
            >[email&nbsp;protected]</a
        >
        <script data-yjshash="f9e31" type="text/javascript">
            /* <![CDATA[ */ !(function (t, e, r, n, c, a, p) {
                try {
                    t =
                        document.currentScript ||
                        (function () {
                            for (
                                t = document.getElementsByTagName("script"),
                                    e = t.length;
                                e--;

                            )
                                if (t[e].getAttribute("data-yjshash"))
                                    return t[e];
                        })();
                    if (t && (c = t.previousSibling)) {
                        p = t.parentNode;
                        if ((a = c.getAttribute("data-yjsemail"))) {
                            for (
                                e = "", r = ("0x" + a.substr(0, 2)) | 0, n = 2;
                                a.length - n;
                                n += 2
                            )
                                e +=
                                    "%" +
                                    (
                                        "0" +
                                        (("0x" + a.substr(n, 2)) ^ r).toString(
                                            16
                                        )
                                    ).slice(-2);
                            p.replaceChild(
                                document.createTextNode(decodeURIComponent(e)),
                                c
                            );
                        }
                        p.removeChild(t);
                    }
                } catch (u) {}
            })(); /* ]]> */
        </script>
        test]# pwd<br />/usr/local/test<br />[<a
            class="__yjs_email__"
            href="/cdn-cgi/l/email-protection"
            data-yjsemail="24564b4b5064484b4745484c4b5750"
            >[email&nbsp;protected]</a
        >
        <script data-yjshash="f9e31" type="text/javascript">
            /* <![CDATA[ */ !(function (t, e, r, n, c, a, p) {
                try {
                    t =
                        document.currentScript ||
                        (function () {
                            for (
                                t = document.getElementsByTagName("script"),
                                    e = t.length;
                                e--;

                            )
                                if (t[e].getAttribute("data-yjshash"))
                                    return t[e];
                        })();
                    if (t && (c = t.previousSibling)) {
                        p = t.parentNode;
                        if ((a = c.getAttribute("data-yjsemail"))) {
                            for (
                                e = "", r = ("0x" + a.substr(0, 2)) | 0, n = 2;
                                a.length - n;
                                n += 2
                            )
                                e +=
                                    "%" +
                                    (
                                        "0" +
                                        (("0x" + a.substr(n, 2)) ^ r).toString(
                                            16
                                        )
                                    ).slice(-2);
                            p.replaceChild(
                                document.createTextNode(decodeURIComponent(e)),
                                c
                            );
                        }
                        p.removeChild(t);
                    }
                } catch (u) {}
            })(); /* ]]> */
        </script>
        test]# ls -l<br />total 4<br />drwxr-xr-x 2 root root 4096 Jun 14 21:40
        demo<br />-rw-r–r– 1 root root 0 Jun 14 21:47 helloworld.java<br />[/cc]
    </p>
    <p>
        注意最左边的像：drwxr-xr-x 应该这样看 d rwx r-x r-x<br /><strong
            >列表3部分：</strong
        >
    </p>
    <ul>
        <li>rwx</li>
        <li>r-x</li>
        <li>r-x</li>
    </ul>
    <p>&nbsp;</p>
    <p><strong>组和权限的顺序都很重要，顺序总是：</strong></p>
    <p>所属者 所属组 其他人 – 分组</p>
    <p>读 写 执行 – 权限</p>
    <p>
        <a href="https://laod.cn/wp-content/uploads/2016/08/Linux.jpg"
            ><noscript
                ><img
                    class="alignnone size-full wp-image-2434"
                    src="https://laod.cn/wp-content/uploads/2016/08/Linux.jpg"
                    alt="Linux文件权限"
                    width="638"
                    height="419" /></noscript
            ><img
                class="alignnone size-full wp-image-2434 j-lazy"
                src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20638%20419'%3E%3C/svg%3E"
                data-original="https://laod.cn/wp-content/uploads/2016/08/Linux.jpg"
                alt="Linux文件权限"
                width="638"
                height="419"
                data-lazy-src="https://laod.cn/wp-content/themes/justnews/themer/assets/images/lazy.png" /><noscript
                ><img
                    class="alignnone size-full wp-image-2434 j-lazy"
                    src="https://laod.cn/wp-content/themes/justnews/themer/assets/images/lazy.png"
                    data-original="https://laod.cn/wp-content/uploads/2016/08/Linux.jpg"
                    alt="Linux文件权限"
                    width="638"
                    height="419" /></noscript
        ></a>
    </p>
    <p><strong>权限还可以用数字表示：</strong></p>
    <ul>
        <li>读 – 4</li>
        <li>写 – 2</li>
        <li>执行 – 1</li>
    </ul>
    <p>&nbsp;</p>
    <p>rwxr-xr-x 可替换 4214-14-1 也可以分组 755</p>
    <p>如果你想给文件755权限，可以使用chmod 775 filename</p>
    <p>让自己有权限执行</p>
    <p>chmod u+x test.sh</p>
    <p>让用户及所属组同时拥有执行权限</p>
    <p>chmod ug+x test.sh</p>
    <p>想去取其他用户的执行权限</p>
    <p>chmod o-x test.sh</p>
    <p>完全删除文件的可执行权限</p>
    <p>chmod a-x test.sh 或者 chmod ugo-x test.sh</p>
    <p>开头的 d 代表这是一个目录</p>
    <p>
        假设文件夹demo（包括demo文件夹）及里面的一些脚本，你想移除用户组的写权限
    </p>
    <p>chmod -R g-w demo</p>
    <p>参数 R 意味着递归的 chmod 命令</p>
    <p>&nbsp;</p>
    <div class="entry-copyright">
        <p>
            原创文章，作者：老D，如若转载，请注明出处：https://laod.cn/code-audit/linux-file-permissions.html
        </p>
    </div>
</section>
