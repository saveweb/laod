<h1 id="title">WordPress升级/安装主题插件提示权限不足 输入FTP解决办法</h1>
<time id="date" datetime="2016-03-12T00:38:23+08:00">2016-03-12 00:38</time>
<section id="content">
    <p>
        某些主机或VPS上WordPress更新，或者升级插件或者主题时会提示一个输入FTP信息的页面，然而有时候你明明输入是正确的信息，它还是提示不正确或者再再次的提示输入FTP信息。
    </p>
    <p>
        <a
            href="https://laod.cn/wp-content/uploads/2016/03/wordpress-ftp.jpg"
            rel="attachment wp-att-1789"
            ><noscript
                ><img
                    class="alignnone size-full wp-image-1789"
                    src="https://laod.cn/wp-content/uploads/2016/03/wordpress-ftp.jpg"
                    alt="wordpress-ftp"
                    width="475"
                    height="265" /></noscript
            ><img
                class="alignnone size-full wp-image-1789 j-lazy"
                src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20475%20265'%3E%3C/svg%3E"
                data-original="https://laod.cn/wp-content/uploads/2016/03/wordpress-ftp.jpg"
                alt="wordpress-ftp"
                width="475"
                height="265"
                data-lazy-src="https://laod.cn/wp-content/themes/justnews/themer/assets/images/lazy.png" /><noscript
                ><img
                    class="alignnone size-full wp-image-1789 j-lazy"
                    src="https://laod.cn/wp-content/themes/justnews/themer/assets/images/lazy.png"
                    data-original="https://laod.cn/wp-content/uploads/2016/03/wordpress-ftp.jpg"
                    alt="wordpress-ftp"
                    width="475"
                    height="265" /></noscript
        ></a>
    </p>
    <p><strong>解决方案：</strong></p>
    <p>方法1：在你的wp-config.php中插入：</p>
    <pre class="prettyprint linenums">
define("FS_METHOD", "direct");
define("FS_CHMOD_DIR", 0777);
define("FS_CHMOD_FILE", 0777);
</pre
    >
    <p>（为了更加安全建议升级完成删除以上三句）</p>
    <p>
        这样类似phpCloud的服务器就OK了，如果这方法搞不定，就需要设置一下文件属性。
    </p>
    <p>
        方法2：如果安装的是lnmp一键安装包，那可以使用。授权组来解决，以便Apache/Nginx可以有权限覆盖掉旧文件。
    </p>
    <p>登录SSH输入以下命令：</p>
    <pre class="prettyprint linenums">
chown -R www /home/wwwroot/laod.cn(修改成网站域名目录)
</pre
    >
    <p>其中/root/laod/wordpress是你的WP安装目录。</p>
    <div class="entry-copyright">
        <p>
            原创文章，作者：老D，如若转载，请注明出处：https://laod.cn/code-audit/wordpress-upgrade-ftp.html
        </p>
    </div>
</section>
