<h1 id="title">谷歌提出新的字体调用方案帮助提高中文字体的加载速度</h1>
<time id="date" datetime="2017-08-26T11:35:45+08:00">2017-08-26 11:35</time>
<section id="content">
    <p>
        谷歌旗下的网页字体调用Google Fonts
        API旨在帮助用户加载不同网站时复用资源达到提高加速速度的目的。目前该公司提出了新的解决方案用来提高中文字体的加载速度，
        该方案主要利用机器学习对字符集进行排序。我们知道拉丁语系的网络字体通常大小只有
        100~400KB，其他写作系统的字体大小通常只在200~600KB间。
    </p>
    <p>
        但是中文系列的字体文件则需完整包含
        <strong>44,683</strong> 个字符，这致使整个字体文件的大小介于<strong
            >15MB~20MB</strong
        >
        之间。因此中文网站在调用网络字体时会占用带宽资源，
        同时用户也需消耗更多的时间去加载网络字体文件。
    </p>
    <p>
        <a
            href="https://laod.cn/wp-content/uploads/2017/08/Google-Fonts-API.jpg"
            ><noscript
                ><img
                    class="alignnone size-full wp-image-3931"
                    src="https://laod.cn/wp-content/uploads/2017/08/Google-Fonts-API.jpg"
                    alt="Google Fonts API"
                    width="700"
                    height="377" /></noscript
            ><img
                class="alignnone size-full wp-image-3931 j-lazy"
                src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%20377'%3E%3C/svg%3E"
                data-original="https://laod.cn/wp-content/uploads/2017/08/Google-Fonts-API.jpg"
                alt="Google Fonts API"
                width="700"
                height="377"
                data-lazy-src="https://laod.cn/wp-content/themes/justnews/themer/assets/images/lazy.png" /><noscript
                ><img
                    class="alignnone size-full wp-image-3931 j-lazy"
                    src="https://laod.cn/wp-content/themes/justnews/themer/assets/images/lazy.png"
                    data-original="https://laod.cn/wp-content/uploads/2017/08/Google-Fonts-API.jpg"
                    alt="Google Fonts API"
                    width="700"
                    height="377" /></noscript
        ></a>
    </p>
    <p><strong>谷歌新的解决方案：</strong></p>
    <div id="cbhahaha" class="otherContent_01"></div>
    <p>
        本次谷歌提出的新方案时按照机器学习对中文网页进行扫描，然后再统计哪些字符可能会共同出现在网页上。最终按照机器学习结果将44,683
        个字符排列成102个切片，在浏览网页时浏览器会按照顺序加载需要的字体。
    </p>
    <p>
        谷歌本次切片和测试的字体为 Noto Sans SC
        切片版，使用切片版字体进行调用时可以极大地降低延迟时间。而谷歌Google
        Fonts
        API本身支持跨网站缓存，因此越多的网站使用切片字体用户加载的时间就会越来越短。本次新增的切片版字体为Noto
        Sans SC Sliced字体文件，Noto Sans SC版不支持切片但拥有更多字体样式。
    </p>
    <p><strong>切片字体调用说明：</strong></p>
    <p>
        @import&nbsp;url(//fonts.googleapis.com/earlyaccess/notosansscsliced.css);font-family:&nbsp;‘Noto&nbsp;Sans&nbsp;SC&nbsp;Sliced’,&nbsp;sans-serif;
    </p>
    <p>
        目前谷歌字体调用国内解析地址已经为谷歌中国BGP服务器，如果你觉得加载缓慢还可使用中科大反向代理。地址：fonts.gstatic.com—&gt;fonts-gstatic.proxy.ustclug.org
        &nbsp;|| &nbsp;fonts.googleapis.com—&gt;fonts.proxy.ustclug.org
        （均支持HTTPS）
    </p>
    <p>
        更多具体细节请访问：<a
            href="https://fonts.google.com/earlyaccess#Noto+Sans+SC+Sliced"
            >https://fonts.google.com/earlyaccess#Noto+Sans+SC+Sliced</a
        >
    </p>
    <p><strong>测试计划：</strong></p>
    <p>
        谷歌邀请准备测试和使用切片字体的网站帮助改善切片字体技术，使CJK网页字体的加载速度可以继续提高。如果您的网站准备使用切片字体可以在网站头部附加小型js库向谷歌发送切片字体的加载以及网页加载时间。
    </p>
    <p><strong>该库只收集以下内容：</strong></p>
    <p>1、下载切片字体的时间；</p>
    <p>2、下载 Google Fonts CSS 时间；</p>
    <p>
        3、网页整体加载时间。如果您愿意帮助谷歌改进中文切片字体技术那么请在网页头部添加以下代码：（未使用切片字体无需添加）
    </p>
    <p>
        &lt;script&nbsp;src=”//fonts.gstatic.com/ea/timing/v1/mlfont.js”&nbsp;async&gt;&lt;/script&gt;
    </p>
    <div class="entry-copyright">
        <p>
            原创文章，作者：老D，如若转载，请注明出处：https://laod.cn/news/google-fonts-api.html
        </p>
    </div>
</section>
