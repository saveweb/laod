<h1 id="title">为网页背景添加一个跟随鼠标变幻的动态线条</h1>
<time id="date" datetime="2017-04-12T15:57:56+08:00">2017-04-12 15:57</time>
<section id="content">
    <p>这是一个基于canvas绘制的网页背景效果。</p>
    <h2>特点:</h2>
    <p>1.不依赖任何框架或者内库，如不依赖 jQuery;</p>
    <p>2.使用原生的 javascript，只有1.6 kb，如果开启 gzip，可以更小;</p>
    <p>3.使用外链非常容易实现，配置简单，即使你不是web开发者，也能简单搞定。</p>
    <p>
        4.JS文件已经存储在CDN上，可以直接使用，支持ssl协议外链，github的外链！
    </p>
    <h2>代码:</h2>
    <h3>方法一：</h3>
    <p>引用代码</p>
    <div class="dp-highlighter">
        <ol class="dp-j" start="1">
            <li class="alt">
                &lt;script&nbsp;type=<span class="string"
                    >“text/javascript”</span
                >&nbsp;src=<span class="string"
                    >“https://cdn.bootcss.com/canvas-nest.js/1.0.1/canvas-nest.min.js”</span
                >&gt;&lt;/script&gt;
            </li>
        </ol>
    </div>
    <p>JS代码</p>
    <div class="dp-highlighter">
        <ol class="dp-j" start="1">
            <li class="alt">
                !function(){function&nbsp;n(n,e,t){<span class="keyword"
                    >return</span
                >&nbsp;n.getAttribute(e)||t}function&nbsp;e(n){<span
                    class="keyword"
                    >return</span
                >&nbsp;document.getElementsByTagName(n)}function&nbsp;t(){var&nbsp;t=e(<span
                    class="string"
                    >“script”</span
                >),o=t.length,i=t[o-<span class="number">1</span>];<span
                    class="keyword"
                    >return</span
                >{l:o,z:n(i,<span class="string">“zIndex”</span>,-<span
                    class="number"
                    >1</span
                >),o:n(i,<span class="string">“opacity”</span>,.<span
                    class="number"
                    >5</span
                >),c:n(i,<span class="string">“color”</span>,<span
                    class="string"
                    >“0,0,0”</span
                >),n:n(i,<span class="string">“count”</span>,<span
                    class="number"
                    >99</span
                >)}}function&nbsp;o(){a=m.width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=m.height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}function&nbsp;i(){r.clearRect(<span
                    class="number"
                    >0</span
                >,<span class="number">0</span
                >,a,c);var&nbsp;n,e,t,o,m,l;s.forEach(function(i,x){<span
                    class="keyword"
                    >for</span
                >(i.x+=i.xa,i.y+=i.ya,i.xa*=i.x&gt;a||i.x&lt;<span
                    class="number"
                    >0</span
                >?-<span class="number">1</span>:<span class="number">1</span
                >,i.ya*=i.y&gt;c||i.y&lt;<span class="number">0</span>?-<span
                    class="number"
                    >1</span
                >:<span class="number">1</span>,r.fillRect(i.x-.<span
                    class="number"
                    >5</span
                >,i.y-.<span class="number">5</span>,<span class="number"
                    >1</span
                >,<span class="number">1</span>),e=x+<span class="number"
                    >1</span
                >;e&lt;u.length;e++)n=u[e],<span class="keyword">null</span
                >!==n.x&amp;&amp;<span class="keyword">null</span
                >!==n.y&amp;&amp;(o=i.x-n.x,m=i.y-n.y,l=o*o+m*m,l&lt;n.max&amp;&amp;(n===y&amp;&amp;l&gt;=n.max/<span
                    class="number"
                    >2</span
                >&amp;&amp;(i.x-=.<span class="number">03</span>*o,i.y-=.<span
                    class="number"
                    >03</span
                >*m),t=(n.max-l)/n.max,r.beginPath(),r.lineWidth=t/<span
                    class="number"
                    >2</span
                >,r.strokeStyle=<span class="string">“rgba(“</span>+d.c+<span
                    class="string"
                    >“,”</span
                >+(t+.<span class="number">2</span>)+<span class="string"
                    >“)”</span
                >,r.moveTo(i.x,i.y),r.lineTo(n.x,n.y),r.stroke()))}),x(i)}var&nbsp;a,c,u,m=document.createElement(<span
                    class="string"
                    >“canvas”</span
                >),d=t(),l=<span class="string">“c_n”</span
                >+d.l,r=m.getContext(<span class="string">“2d”</span
                >),x=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){window.setTimeout(n,1e3/<span
                    class="number"
                    >45</span
                >)},w=Math.random,y={x:<span class="keyword">null</span>,y:<span
                    class="keyword"
                    >null</span
                >,max:2e4};m.id=l,m.style.cssText=<span class="string"
                    >“position:fixed;top:0;left:0;z-index:”</span
                >+d.z+<span class="string">“;opacity:”</span>+d.o,e(<span
                    class="string"
                    >“body”</span
                >)[<span class="number">0</span
                >].appendChild(m),o(),window.onresize=o,window.onmousemove=function(n){n=n||window.event,y.x=n.clientX,y.y=n.clientY},window.onmouseout=function(){y.x=<span
                    class="keyword"
                    >null</span
                >,y.y=<span class="keyword">null</span>};<span class="keyword"
                    >for</span
                >(var&nbsp;s=[],f=<span class="number">0</span
                >;d.n&gt;f;f++){var&nbsp;h=w()*a,g=w()*c,v=<span class="number"
                    >2</span
                >*w()-<span class="number">1</span>,p=<span class="number"
                    >2</span
                >*w()-<span class="number">1</span
                >;s.push({x:h,y:g,xa:v,ya:p,max:6e3})}u=s.concat([y]),setTimeout(function(){i()},<span
                    class="number"
                    >100</span
                >)}();
            </li>
        </ol>
    </div>
    <h3>方法二：</h3>
    <p>首先将下载的canvas-nest.min.js文件，放到主题/js目录中</p>
    <p>打开主题页脚模板文件footer.php在：</p>
    <div class="dp-highlighter">
        <ol class="dp-c" start="1">
            <li class="alt">&lt;?php&nbsp;wp_footer();&nbsp;?&gt;</li>
        </ol>
    </div>
    <p>上面添加：</p>
    <div class="dp-highlighter">
        <ol class="dp-c" start="1">
            <li class="alt">
                &lt;script&nbsp;type=<span class="string"
                    >“text/javascript”</span
                >&nbsp;src=<span class="string"
                    >“&lt;?php&nbsp;bloginfo(‘template_directory’);?&gt;/js/canvas-nest.min.js”</span
                >&gt;&lt;/script&gt;
            </li>
        </ol>
    </div>
    <p>
        <a
            href="https://eyun.baidu.com/s/3hs5hxju"
            target="_blank"
            rel="external nofollow"
            >效果演示及canvas-nest.js下载</a
        >
    </p>
    <p>链接：https://eyun.baidu.com/s/3hs5hxju 密码：LAOD</p>
    <p>简单得说就是直接引用加载js代码即可</p>
    <div class="entry-copyright">
        <p>
            原创文章，作者：老D，如若转载，请注明出处：https://laod.cn/page/canvas-nest-min-js.html
        </p>
    </div>
</section>
